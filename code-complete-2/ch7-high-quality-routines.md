# Chapter 7. High-Quality Routines
- 나쁜 루틴의 특징
  - 이름이 무엇을 하는지 나타내지 않는다
  - 코드를 봐서는 무엇을 하는지 알 수 없다
  - 레이아웃이 안 좋다
  - 입력값이 변한다
  - 전역 변수를 마구 접근한다
  - 하나의 목적을 가지고 있지 않다
  - 데이터 오류에 대응되어있지 않다
  - 매직 넘버를 사용한다
  - 입력값을 사용하지 않는다
  - 입력값을 엉뚱하게 사용한다
  - 입력값이 너무 많다
  - 입력값이 정렬되어 있지 않고, 알아보기 어렵다

## 7.1 Valid Reasons to Create a Routine
- 프로그램의 복잡성을 줄이기 위해
  - 루틴은 정보를 숨기고 신경쓰지 않게 함
- 코드를 동작을 이해하기 쉽게 하기 위해
- 코드 중복을 피하기 위해
- 재정의하기 쉽도록 루틴을 작성하면 override할 때 코드를 덜 작성하게 도와준다
- 실행 순서를 숨기기 위해
- 포인터 연산을 숨기기 위해
- 이식성을 향상시키기 위해
- 복잡한 테스트 루틴을 단순화하기 위해
- 성능을 향상시키기 위해

### Operations That Seem Too Simple to Put Into Routines
- 간결한 루틴은 코드를 읽기 쉽게 해준다

## 7.2 Design at the Routine Level
- 루틴은 가급적 하나의 행동만 하도록 하자
  - 여러 연구에 따르면 많이 엮일 수록 에러가 발생할 확률이 높다
- 일반적으로 고려되는 cohesion
  - Sequential Cohesion
    - 은퇴일 구하려면, 나이를 구해야 하고, 생년월일을 알아야 함
  - Communicational Cohesion
    - 데이터를 요약하고 출력 후에 다시 데이터를 삭제하는 경우
  - Temporal Cohesion
    - 일련의 작업들을 직접 호출하기보다는 감싸서 한 방에 호출하는 것이 효과적인 경우
  - Procedural Cohesion
    - 특정 순서로 호축되어야 하는 경우
  - Logical Cohesion
    - 특정 플래그에 따라 호출해줘야 하는 경우
  - Coincidental Cohesion
    - 명확히 구별하기 까다로운 경우

## 7.3 Good Routine Names
- 루틴이 하는 일을 설명하라
- 무의미하거나 애매 모호한 동사를 피하라
  - 이름을 특정하기 어렵다면 더 명확한 일을 하도록 루틴을 작성하라
- 숫자로 구분짓지 마라 (헐~~~!!!)
- 필요한 길게 지어라
  - 변수명은 9~15글자가 적당하지만 메소드명은 자세하게 길 수록 좋다
  - 너무 길다면? 하는 일을 나누는 게 좋겠지
- 반환값에 대한 설명을 하는 것이 좋다
- '동사 + 오브젝트'와 같은 형식
- 반대 상황을 잘 맞춰 지어라
- 공통 컨벤션을 잘 따르라

## 7.4 How Long Can a Routine Be?
- 온갖 연구 결과들이 있는데..얼마가 적당할까?
- https://www.rubypigeon.com/posts/methods-can-be-longer-than-five-lines/
- 메소드 길이가 짧을 때
  - 장점 : 읽기 쉽고, 복잡도가 줄어들고, 지역 변수가 어떻게 쓰이는지 알기 쉽다
  - 단점 : 더 많은 코드가 필요하고, 코드간의 연관성이 증가한다

## 7.5 How to Use Routine Parameters
- 입력/수정/출력 순으로 배열하라
- 입력/출력을 구분하는 고유 표시를 고려해보자
- 비슷한 인자들을 받는다면, 순서룰 유지하자
- 가급적 인자를 받았다면 모두 사용하자
- 상태나 에러는 끝으로 받자
- 입력값을 로직으로 사용하지 말아라
- 입력 제한을 잘 설명할 수 있게 네이밍해라
- 7개를 넘지 않게 하라
- 입력/수정/출력에 대한 네이밍 컨벤션을 사용하라
- 인터페이스 추상화를 유지할 수 있을 정도의 인자를 전달하라
- 이름 있는 인자를 사용하라 (특정 언어에 해당)
- 함수 인자와 전달 인자의 타입을 맞추라

## 7.6 Special Considerations in the Use of Functions

### When to Use a Function and When to Use a Procedure
- 반환값을 사용하려면 function을, 그렇지 않으면 procedure를

## 7.7 Macro Routines and Inline Routines (C++ 얘기니까 패스~)
- 매크로 표현은 괄호로 묶어라
- 멀티라인 매크로는 중괄호로 묶어라
- 필요한 경우 루틴으로 대체될 수 있도록 네이밍 컨벤션을 잘 정하라
