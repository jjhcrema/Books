# Chapter 3. Measure Twice, Cut Once: Upstream Prerequisites

## 3.1 Importance of Prerequisites
### Do Prerequisites Apply to Modern Software Project?
- 소프트웨어 개발의 리스크는 빈약한 요구조건과 프로젝트 계획이라고 할 수 있다
  - 준비단계에서는 요구조건과 프로젝트 계획을 구체화시키는 것에 초점을 맞춰야 한다

### Causes of Incomplete Preparation
- 숙련된 개발자들은 개발에 들어가기 앞서 사전 준비를 잘 할 것 같지만, 그렇지 않다! (동감!)
  - 여러 기술들이 있지만, 대부분의 개발자들은 훈련을 받은 적이 없음
  - 코딩을 당장 시작하려는 욕망이 강함
  - 매니저들이 개발을 위한 사전 준비에 시간을 쏟는 것을 원하지 않음

### Utterly Compelling and Foolproof Argument for Doing Prerequisites Before Construction
- 시스템 구현을 시작하기 전에 시스템의 목적과 어떻게 목적을 이룰 것인지를 이해해야 한다
- 개발자로서 개발에 문외한 동료들에게 개발 프로세스를 이해시켜야 하는 일도 중요하다

#### Appeal to Logic
- 개발의 관점에서 계획이란
  - 개발하려는 것에 대해 이해하는 것
  - 사용자가 진짜로 원하는 것이 무엇인지 파악하는 것

#### Appeal to Analogy
- 프로그래머는 소프트웨어 먹이사슬의 최종 포식자
  - 구조설계는 요구사항을, 기획자는 구조를, 프로그래머는 기획을
  - 요구사항을 제대로 구체화하지 않는다면 먹이사슬과 마찬가지로 개발이 제대로 될 수 없음

#### Appeal to Data
- 요구사항 구체화 -> 구조 설계 -> 개발 단계로 갈 수록 결함을 보완하는 비용은 급격히 증가함
  - Table 3-1, Figure 3-1

#### Boss-Readiness Test
- 보스에게 개발에 들어가기 전에 전제조건들을 위한 업무의 중요성을 이해시키기 위해 다음 내용을 테스트해보라
  - 디버깅을 많이 해야 하기 때문에 당장 코딩을 시작해야 한다
  - 결함이 많지 않을 것이라 테스트에 많은 시간을 할애하지 않았다
  - 코딩이나 디버깅 중에 발생할 수 있는 주요 문제들을 생각할 수 없을 수준으로 요구사항과 기획안을 조사했다

## 3.2 Determine the Kind of Software You're Working On
- 프로그래밍 언어에 따라 준비와 개발 사이에 각기 다른 비중을 두고 있다
  - 비지니스 시스템은 반복적인 방식
  - 생명에 위험성이 높은 시스템의 경우 순차적인 접근 방식, 요구사항을 최고 수준의 안정성을 보장해야 함

### Iterative Approaches' Effect on Prerequisites
- 반복적인 접근방식 (Table 3-3)
  - 개발 완료 시점까지는 결함 보완을 위한 비용이 더 많이 들어간듯 하지만
  - 개발 완료 후 재작업이 없기 때문에 결국에는 비용이 적게 들었다
- 개발전 준비작업을 진행한 경우 비용을 상당히 줄일 수 있었다 (Table 3-4)

### Choosing Between Iterative and Sequential Approaches
- 순차적 접근 방식
  - 요구사항이 안정적인 경우
  - 기획이 직관적이고 이해하기 쉬운 경우
  - 개발팀이 사용 분야에 익숙한 경우
  - 프로젝트의 리스크가 적은 경우
  - 장기 예측이 중요한 경우
  - 요구사항, 기획, 코드 변경의 비용이 높은 경우
- 반복적인 접근 방식
  - 요구사항 변동이 잦고 이해하기 어려운 경우 (우리의 경우가 그런 듯...)
  - 기획이 복잡하고 도전적인 경우
  - 개발팀이 해당 분야에 익숙하지 않는 경우
  - 프로젝트의 리스크가 큰 경우
  - 장기 예측이 중요하지 않은 경우
  - 요구사항, 기획, 코드 변경의 비용이 적은 경우

## 3.3 Problem-Definition Prerequisite
- 문제 정의를 위한 간단한 문서면 된다
  - 해결 방안을 의미하는 내용은 안 좋은 예시
- 사용자의 관점에서 기술돼야 한다
- 문제 정의를 잘못하면 엉뚱한 방향으로 개발하느라 시간을 허비하게 된다
  - 클릭 비율 집계를 위한 스크립트 구현

## 3.4 Requirements Prerequisite
- 소프트웨어 시스템이 뭘 해야 하는지에 대한 자세한 설명
  - 문제 해결을 위한 첫 걸음

### Why Have Official Requirements?
- 요구사항이 명확해야 하는 이유
  - 요구사항이 명확하지 않으면 프로그래밍 중에 결정을 해야 할 순간들이 많이 생긴다
  - 논쟁을 사전에 방지할 수 있다
  - 개발이 시작된 이후에 변경 범위를 최소화할 수 있다

### The Myth of Stable Requirements
- 요구사항이 안정적이다는 것은 이상적인 것!
- 연구에 의하면 25% 정도는 요구사항이 변경됨

### Handling Requirements Changes During Construction
- 요구사항에 대한 체크리스트를 사용하라
  - 요구사항이 불명확하다면 코딩을 멈추고 확실히 해라
- 요구사항 변경에 대한 비용을 명확히 알려라
  - 개발 중에 이리저리 휘둘릴 수 있다
- 변경사항 관리 절차를 수립하라
  - 개발자는 마구잡이가 아니라 특정 시간에만 할애할 수 있고
  - 사용자는 자신의 요구사항이 절차에 따라 진행된다는 믿음을 준다
- 변경사항을 수용하는 개발방식을 사용하라
  - 단기 개발 사이클은 사용자에게 피드백을 빨리 줄 수 있다
- 프로젝트를 복제해둬라
  - 요구사항의 반영 결과가 좋지 않다면 되돌려야 할 때가 있다
- 사업적 측면을 주시하라
  - 기능만 생각하다보면 다 좋아보임
  - 사업적 가치가 있는지 따져보면 요구사항이 정리될 것

## 3.5 Architecture Prerequisite
- 개발에 가깝긴 하지만 요구사항을 좀 더 자세하게 기술하는 것
- 왜 사전작업이라고 할 수 있는가?
  - 구조설계의 질이 시스템의 개념적인 무결성을 결정하기 때문

### Typical Architectural Components

#### Program Organization
- 프로그램의 주된 블럭들을 정의
  - 시스템의 규모에 따라 클래스 또는 서브시스템 범위가 될 수 있다

#### Major Classes
- 사용하게 될 주된 클래스를 지정
- 주된 클래스가 하는 일들과 다른 클래스들과 어떻게 상호작용하는지를 식별

#### Data Design
- 주된 파일과 테이블들을 기술해야 한다

#### Business Rules
- 고객의 정보의 유효 기간이 30초 이상 넘으면 안 된다와 같은 룰
  - 특히 타겟 캠페인에 관련된 내용들이 많겠구만..

#### User Interface Design
- 비지니스 로직이나 프로그램의 결과물에 영향을 주지 않도록 모듈화해야 한다

#### Resource Management
- 시스템 자원 (DB connections, theads, handles, memory...) 사용량을 예측하고 가이드

#### Security
- 암호화, 에러 메세지의 상세 내용, 메모리상의 데이터에 대한 보호 등등

## 3.6 Amount of Time to Spend on Upstream Prerequisites
- 잘 운영되는 프로젝트의 경우 작업의 10-20%, 일정의 20-30%를 사용함
- 이 단계를 잘 진행한다면 개발 단계에서 시간을 덜 뺏길 것
